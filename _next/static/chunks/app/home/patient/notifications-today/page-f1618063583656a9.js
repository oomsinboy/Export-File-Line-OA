(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{9919:function(e,t,s){Promise.resolve().then(s.bind(s,9252))},9252:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),l=s(6504),n=s(2265),i=s(8472),c=s(6797),r=s(6648),d=s(448),o=s(7138),x=s(6920),h=s(5079),u=e=>{let{items:t}=e,[s,l]=(0,n.useState)([]),[i,c]=(0,n.useState)(""),[u,m]=(0,n.useState)(1),[p]=(0,n.useState)(10),[f,j]=(0,n.useState)(null);(0,n.useEffect)(()=>{l(t)},[t]);let N=s.filter(e=>e.pt_name.toLowerCase().includes(i.toLowerCase())).reverse(),w=n.useMemo(()=>null!==f?[...N].sort((e,t)=>e[f.key]<t[f.key]?"asc"===f.direction?-1:1:e[f.key]>t[f.key]?"asc"===f.direction?1:-1:0):N,[N,f]),g=u*p,b=w.slice(g-p,g),v=e=>m(e),y=Math.ceil(N.length/p),_=Array.from({length:y},(e,t)=>(0,a.jsx)("li",{className:"list-none cursor-pointer px-3 py-1 mx-1 rounded-full ".concat(u===t+1?"bg-[#AF88FF] text-white":"bg-white text-[#461F78]"),onClick:()=>v(t+1),children:t+1},t+1)),k=e=>{let t="asc";f&&f.key===e&&"asc"===f.direction&&(t="desc"),j({key:e,direction:t})},C=e=>f&&f.key===e?"asc"===f.direction?(0,a.jsx)(x.G,{icon:h.foy}):(0,a.jsx)(x.G,{icon:h.u9C}):(0,a.jsx)(x.G,{icon:h.CmM});return(0,a.jsx)("div",{className:"px-8",children:(0,a.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 ",children:(0,a.jsxs)("div",{className:"min-h-[81.71dvh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl text-[#5955B3] font-semibold",children:"รายการแจ้งเตือนผู้ป่วยวันนี้"}),(0,a.jsxs)("div",{className:"text-[#705396]",children:["ทั้งหมด ",N.length," รายการ"]})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-72",children:(0,a.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,a.jsx)("input",{type:"text",className:"grow",placeholder:"Search",value:i,onChange:e=>{c(e.target.value),m(1)}})})}),(0,a.jsx)(o.default,{href:"".concat("/","home/patient"),className:"relative text-white w-[160px] font-light bg-[#693092] btn btn-active mx-4",children:"Patient Page"}),(0,a.jsxs)(o.default,{href:"".concat("/","home/patient/new-patient"),className:"relative text-white w-40 font-light bg-[#AF88FF] btn  ",children:[(0,a.jsx)(r.default,{className:"absolute left-4",src:"/image/icon_plus.png",alt:"logo",width:20,height:20}),"Add New"]})]})]}),(0,a.jsx)("div",{className:"pt-3 flex-grow",children:(0,a.jsx)("div",{className:"overflow-x-auto ",children:(0,a.jsxs)("table",{className:"table ",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-center bg-[#C0B4D9] text-base text-[#461F78]",children:[(0,a.jsxs)("th",{className:"w-[398px] cursor-pointer",onClick:()=>k("regis_date"),children:["วันที่ลงทะเบียน ",C("regis_date")]}),(0,a.jsxs)("th",{className:"w-[427px] cursor-pointer",onClick:()=>k("appointment_date"),children:["วันนัดหมายตามกำหนด ",C("appointment_date")]}),(0,a.jsxs)("th",{className:"w-[450px] cursor-pointer",onClick:()=>k("pt_name"),children:["ชื่อ-นามสกุล ",C("pt_name")]}),(0,a.jsxs)("th",{className:"w-[108px] cursor-pointer",onClick:()=>k("state"),children:["สถานะ ",C("state")]}),(0,a.jsx)("th",{children:"Action"})]})}),(0,a.jsx)("tbody",{className:"text-center text-base text-[#705396]",children:b.map((e,t)=>(0,a.jsxs)("tr",{className:"border-none ".concat((t+1)%2==0?"bg-[#F4F4FE]":""),children:[(0,a.jsx)("td",{className:"w-[398px]",children:(0,d.p)(e.regis_date)}),(0,a.jsxs)("td",{className:"w-[427px]",children:[e.appointment_date," | ",e.appointment_time]}),(0,a.jsx)("td",{className:"w-[450px] break-words",children:e.pt_name}),(0,a.jsx)("td",{children:e.state}),(0,a.jsx)("td",{className:" justify-center flex",children:(0,a.jsx)(o.default,{href:"/home/patient/view-patient?id=".concat(e.visit_id),children:(0,a.jsx)(r.default,{src:"/image/icon_view.png",alt:"logo",width:30,height:30})})})]},t))})]})})}),(0,a.jsxs)("div",{className:"pagination mt-4 select-none flex justify-end items-center",children:[(0,a.jsx)("button",{className:"px-3 py-1 mx-1 rounded-full bg-white text-[#461F78] cursor-pointer",onClick:()=>v(u-1),disabled:1===u,children:"<"}),_,(0,a.jsx)("button",{className:"px-3 py-1 mx-1 rounded-full bg-white text-[#461F78] cursor-pointer",onClick:()=>v(u+1),disabled:u===y,children:">"})]})]})})})},m=function(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let e=await i.Z.get("https://city.planetcloud.cloud/citybackend/lineoa/daily_noti/");t(e.data)}catch(e){console.error("Error fetching data:",e)}finally{r(!1)}})()},[]),s)?(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(l.default,{}),(0,a.jsx)(c.o,{})]}):(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(l.default,{}),e&&(0,a.jsx)(u,{items:e})]})}}},function(e){e.O(0,[461,676,236,648,138,920,304,971,23,744],function(){return e(e.s=9919)}),_N_E=e.O()}]);