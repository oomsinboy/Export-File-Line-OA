(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{1113:function(e,t,s){Promise.resolve().then(s.bind(s,672))},672:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var l=s(7437),a=s(6504),n=s(2265),i=s(8472),c=s(6648),r=s(448),d=s(7138),x=e=>{let{items:t}=e,[s,a]=(0,n.useState)(t.all_visit),[i,x]=(0,n.useState)(""),[h,o]=(0,n.useState)(1),[m]=(0,n.useState)(12);console.log(t),(0,n.useEffect)(()=>{a(t.all_visit)},[t]);let u=s.filter(e=>e.patient_name.toLowerCase().includes(i.toLowerCase())).reverse(),j=h*m,p=u.slice(j-m,j),f=e=>o(e),N=Math.ceil(u.length/m);return(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 ",children:(0,l.jsxs)("div",{className:"min-h-[81.71dvh] flex flex-col",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl text-[#5955B3] font-semibold",children:"รายการผู้ป่วย"}),(0,l.jsxs)("div",{className:"text-[#705396]",children:["ทั้งหมด ",s.length," รายการ"]})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"w-72",children:(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"Search",value:i,onChange:e=>x(e.target.value)})})}),(0,l.jsxs)("button",{className:"relative text-white w-42 font-light bg-[#AF88FF] btn btn-active mx-4",children:[(0,l.jsx)("span",{children:"Notifications Today"}),t.daily_noti>0&&(0,l.jsx)("div",{className:"absolute top-0 right-0 translate-x-[40%] -translate-y-[40%] text-white rounded-full bg-red-500 w-6 h-6 flex items-center justify-center",children:t.daily_noti})]}),(0,l.jsxs)(d.default,{href:"".concat("/","home/patient/new-patient"),className:"relative text-white w-40 font-light bg-[#AF88FF] btn btn-active",children:[(0,l.jsx)(c.default,{className:"absolute left-4",src:"/image/icon_plus.png",alt:"logo",width:20,height:20}),"Add New"]})]})]}),(0,l.jsx)("div",{className:"pt-3 ",children:(0,l.jsx)("div",{className:"overflow-x-auto ",children:(0,l.jsxs)("table",{className:"table table-zebra",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-center bg-[#C0B4D9] text-base text-[#461F78]",children:[(0,l.jsx)("th",{children:"วันที่ลงทะเบียน"}),(0,l.jsx)("th",{children:"วันนัดหมายตามกำหนด"}),(0,l.jsx)("th",{children:"ชื่อ-นามสกุล"}),(0,l.jsx)("th",{children:"สถานะ"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{className:"text-center text-base",children:p.map((e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,r.p)(e.timestamp)}),(0,l.jsxs)("td",{children:[e.appointment_date," | ",e.appointment_time]}),(0,l.jsx)("td",{children:e.patient_name}),(0,l.jsx)("td",{children:e.state}),(0,l.jsx)("td",{className:" justify-center flex",children:(0,l.jsx)(d.default,{href:"/home/patient/view-patient?id=".concat(e.visit_id),children:(0,l.jsx)(c.default,{src:"/image/icon_view.png",alt:"logo",width:30,height:30})})})]},t))})]})})}),(0,l.jsx)("div",{className:"mt-4 flex justify-end",children:(0,l.jsx)("div",{className:"join",children:(()=>{let e=[];if(N<=5)for(let t=1;t<=N;t++)e.push(t);else{let t=Math.max(1,h-Math.floor(2.5)),s=Math.min(N,t+5-1);s-t<4&&(t=Math.max(1,s-5+1)),t>1&&(e.push(1),t>2&&e.push(-1));for(let l=t;l<=s;l++)e.push(l);s<N&&(s<N-1&&e.push(-1),e.push(N))}return e.map((e,t)=>(0,l.jsx)("button",{className:"join-item btn btn-sm ".concat(e===h?"btn-active bg-white":""),onClick:()=>f(e),disabled:e===h||-1===e,children:-1===e?"...":e},t))})()})})]})})})},h=s(6797),o=function(){let[e,t]=(0,n.useState)(null),[s,c]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{c(!1),i.Z.get("https://city.planetcloud.cloud/citybackend/lineoa/visit/").then(e=>{t(e.data)}).catch(e=>{console.error("Error fetching data:",e)})},[]),s)?(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(h.o,{})]}):(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(a.default,{}),e&&(0,l.jsx)(x,{items:e})]})}},6504:function(e,t,s){"use strict";var l=s(7437);s(2265);var a=s(6648),n=s(7138),i=s(4379),c=s.n(i);t.default=()=>(0,l.jsx)("div",{className:"p-8 pb-2",children:(0,l.jsxs)("div",{className:" rounded-[15px] bg-white px-2 py-1 flex justify-between",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(a.default,{src:"/image/logo_colonoscopy_small.png",alt:"logo",width:80,height:80}),(0,l.jsx)("div",{className:"flex items-center text-xl text-[#9b88c0] font-medium select-none ",children:(0,l.jsx)("h1",{children:"COLONOSCOPY TUH"})}),(0,l.jsxs)(n.default,{href:"".concat("/","home"),className:"mx-10 text-[#461F78] flex items-center text-xl font-bold select-none",children:[(0,l.jsx)("div",{children:(0,l.jsx)(a.default,{src:"/image/icon_home.png",alt:"logo",width:30,height:30})}),(0,l.jsx)("h1",{className:"mx-2",children:"หน้าหลัก"})]})]}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("div",{onClick:e=>{e.preventDefault(),c().fire({title:"ยืนยันการออกจากระบบ",text:"คุณกำลังออกจากระบบ ต้องการดำเนินการต่อหรือไม่ ?",icon:"warning",showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonText:"ยืนยัน",reverseButtons:!1,customClass:{icon:"custom-swal2-warning"}}).then(e=>{e.isConfirmed&&c().fire({title:"ออกจากระบบ!",text:"คุณได้ออกจากระบบแล้ว",icon:"success",confirmButtonText:"ปิด"}).then(()=>{window.location.href="".concat("/")})})},className:"cursor-pointer mx-16 text-[#461F78] flex items-center text-xl font-bold select-none",children:[(0,l.jsx)("div",{children:(0,l.jsx)(a.default,{src:"/image/icon_out.png",alt:"logo",width:30,height:30})}),(0,l.jsx)("h1",{className:"mx-2",children:"ออกจากระบบ"})]})})]})})},448:function(e,t,s){"use strict";s.d(t,{e:function(){return a},p:function(){return l}});let l=e=>{let t=new Date(e),s=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),n=String(t.getUTCHours()).padStart(2,"0"),i=String(t.getUTCMinutes()).padStart(2,"0"),c=String(t.getUTCSeconds()).padStart(2,"0");return"".concat(s,"-").concat(l,"-").concat(a," ").concat(n,":").concat(i,":").concat(c)},a=()=>{let e=new Date(new Date().getTime()),t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(l," ").concat(a,":").concat(n,":").concat(i)}},6797:function(e,t,s){"use strict";s.d(t,{o:function(){return a}});var l=s(7437);t.Z=()=>(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 flex justify-center",children:(0,l.jsxs)("div",{className:"min-h-[81.71dvh] w-[70%] flex flex-col",children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"text-2xl text-[#5955B3] font-semibold",children:"เพิ่มผู้ป่วยใหม่"})}),(0,l.jsxs)("form",{action:"",className:" mt-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"w-1/2 pr-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"ชื่อ"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow text-[#705396]",readOnly:!0})})]})}),(0,l.jsx)("div",{className:"w-1/2 pl-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"นามสกุล"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow text-[#705396]",readOnly:!0})})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"w-1/2 pr-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"เลขที่บัตรประจำตัวประชาชน"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow text-[#705396]",maxLength:13,pattern:"\\d{13}",readOnly:!0})})]})}),(0,l.jsx)("div",{className:"w-1/2 pl-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"วันเดือนปีเกิด"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"date",className:"grow text-[#705396]",readOnly:!0})})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"w-1/2 pr-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"วันที่ลงทะเบียน"}),(0,l.jsx)("label",{className:" bg-[#F8F5FB] input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"text",className:"grow pointer-events-none text-[#705396]",readOnly:!0})})]})}),(0,l.jsx)("div",{className:"w-1/2 pl-4",children:(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("span",{className:"text-[#705396]",children:"วันนัดหมาย"}),(0,l.jsx)("label",{className:"input input-bordered flex items-center gap-2 w-full",children:(0,l.jsx)("input",{type:"datetime-local",className:"grow text-[#705396]",readOnly:!0})})]})})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"my-2 w-1/2 pr-4",children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("span",{className:"text-[#705396]",children:"เลือกยาที่ควรหยุดรับประทาน"})}),(0,l.jsx)("div",{className:"rounded bg-[#E8DBF5] min-h-[49dvh] p-3",children:(0,l.jsx)("span",{className:"text-[#705396]",children:" รายการที่เลือก 0 รายการ"})})]}),(0,l.jsx)("div",{className:"w-1/2 pl-4 flex justify-center items-center",children:(0,l.jsxs)("div",{className:"text-center w-1/2",children:[(0,l.jsx)("div",{className:"text-[#461F78] text-3xl font-semibold my-2",children:"OTP"}),(0,l.jsx)("div",{className:"text-[#705396] my-2",children:"รหัสนี้ใช้สำหรับลงทะเบียนผู้ใช้งาน Line OA"}),(0,l.jsx)("div",{className:"p-10 bg-[#F8F5FB] my-2",children:(0,l.jsx)("span",{className:"text-[#7F57D0] text-4xl tracking-widest"})})]})})]})]})})});let a=()=>(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)("div",{className:"h-full w-full rounded-[15px] bg-white p-5 ",children:(0,l.jsx)("div",{className:"min-h-[81.71dvh] flex flex-col"})})})}},function(e){e.O(0,[461,472,648,138,971,23,744],function(){return e(e.s=1113)}),_N_E=e.O()}]);